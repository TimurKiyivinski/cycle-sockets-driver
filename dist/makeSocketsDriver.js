'use strict';Object.defineProperty(exports,'__esModule',{value:!0}),exports.makeSocketsDriver=makeSocketsDriver;var _xstream=require('xstream'),_xstream2=_interopRequireDefault(_xstream),_socket=require('socket.io-client'),_socket2=_interopRequireDefault(_socket);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function SocketWrapper(){var a=this;this.sockets={},this.emit=function(b,c,d){a.sockets[b].emit(c,d)},this.on=function(b,c,d){a.sockets[b]||(a.sockets[b]=(0,_socket2.default)(b)),a.sockets[b].on(c,d)}}function makeSocketsDriver(){var b=new SocketWrapper;return function(c){return c.addListener({next:function next(d){b.emit(d.socket,d.event,d.data)},error:function error(){},complete:function complete(){}}),{select:function select(d){return _xstream2.default.create({start:function start(e){b.on(d.socket,d.event,function(f){return e.next(f)})},stop:function stop(){}})}}}}